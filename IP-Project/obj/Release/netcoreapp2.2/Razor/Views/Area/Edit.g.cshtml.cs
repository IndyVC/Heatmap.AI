#pragma checksum "C:\Users\Indy\source\repos\IP-Project\IP-Project\Views\Area\Edit.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "fcb8e1b140cb9cc47166a147757d5dd55e23c428"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Area_Edit), @"mvc.1.0.view", @"/Views/Area/Edit.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/Area/Edit.cshtml", typeof(AspNetCore.Views_Area_Edit))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"fcb8e1b140cb9cc47166a147757d5dd55e23c428", @"/Views/Area/Edit.cshtml")]
    public class Views_Area_Edit : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<IP_Project.Models.FloorPlanViewModel>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("href", new global::Microsoft.AspNetCore.Html.HtmlString("~/css/style.css"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("rel", new global::Microsoft.AspNetCore.Html.HtmlString("stylesheet"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_2 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("type", new global::Microsoft.AspNetCore.Html.HtmlString("text/css"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_3 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/img/floor0.png"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_4 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("class", new global::Microsoft.AspNetCore.Html.HtmlString("floorplan"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_5 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("id", new global::Microsoft.AspNetCore.Html.HtmlString("groundfloor"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.HeadTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper;
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper;
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.BodyTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#line 3 "C:\Users\Indy\source\repos\IP-Project\IP-Project\Views\Area\Edit.cshtml"
  
    ViewData["Title"] = "Index";

#line default
#line hidden
            BeginContext(140, 1278, false);
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("head", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "fcb8e1b140cb9cc47166a147757d5dd55e23c4285471", async() => {
                BeginContext(146, 6, true);
                WriteLiteral("\r\n    ");
                EndContext();
                BeginContext(152, 64, false);
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("link", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "fcb8e1b140cb9cc47166a147757d5dd55e23c4285856", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_2);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                EndContext();
                BeginContext(216, 1195, true);
                WriteLiteral(@"
    <!-- Font Awesome -->
    <link rel=""stylesheet"" href=""https://use.fontawesome.com/releases/v5.8.2/css/all.css"">
    <!-- Google Fonts -->
    <link rel=""stylesheet"" href=""https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"">
    <!-- Bootstrap core CSS -->
    <link href=""https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/css/bootstrap.min.css"" rel=""stylesheet"">
    <!-- Material Design Bootstrap -->
    <link href=""https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.13.0/css/mdb.min.css"" rel=""stylesheet"">
    <!-- JQuery -->
    <script type=""text/javascript"" src=""https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js""></script>
    <!-- Bootstrap tooltips -->
    <script type=""text/javascript"" src=""https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js""></script>
    <!-- Bootstrap core JavaScript -->
    <script type=""text/javascript"" src=""https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/js/bootstrap.min.js");
                WriteLiteral("\"></script>\r\n    <!-- MDB core JavaScript -->\r\n    <script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.13.0/js/mdb.min.js\"></script>\r\n");
                EndContext();
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.HeadTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            EndContext();
            BeginContext(1418, 2, true);
            WriteLiteral("\r\n");
            EndContext();
            BeginContext(1420, 2675, false);
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("body", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "fcb8e1b140cb9cc47166a147757d5dd55e23c4289342", async() => {
                BeginContext(1426, 6, true);
                WriteLiteral("\r\n    ");
                EndContext();
                BeginContext(1433, 23, false);
#line 26 "C:\Users\Indy\source\repos\IP-Project\IP-Project\Views\Area\Edit.cshtml"
Write(Html.Partial("_Header"));

#line default
#line hidden
                EndContext();
                BeginContext(1456, 31, true);
                WriteLiteral("\r\n    <div class=\"container\">\r\n");
                EndContext();
#line 28 "C:\Users\Indy\source\repos\IP-Project\IP-Project\Views\Area\Edit.cshtml"
          
            string error = "rgba(135,205,213,1)";
            string dimensions = Model.DimensionsJson;
        

#line default
#line hidden
                BeginContext(1616, 532, true);
                WriteLiteral(@"        <div class=""all-floors"">
            <button class=""btn white"" onclick=""setFloor(0)"">Ground floor</button>
            <button class=""btn white"" onclick=""setFloor(1)"">First floor</button>
            <button class=""btn white"" onclick=""setFloor(2)"">Second floor</button>
            <button class=""btn white"" onclick=""setFloor(3)"">Third floor</button>
        </div>
        <div class=""drag-and-drop"">
            <p class=""drag-and-drop-title"">Drag and drop a camera:</p>
            <a id=""ball"" class=""mark-point""");
                EndContext();
                BeginWriteAttribute("style", " style=\"", 2148, "\"", 2180, 3);
                WriteAttributeValue("", 2156, "background-color:", 2156, 17, true);
#line 40 "C:\Users\Indy\source\repos\IP-Project\IP-Project\Views\Area\Edit.cshtml"
WriteAttributeValue("", 2173, error, 2173, 6, false);

#line default
#line hidden
                WriteAttributeValue("", 2179, ";", 2179, 1, true);
                EndWriteAttribute();
                BeginContext(2181, 232, true);
                WriteLiteral(" draggable=\"true\" ondragstart=\"drag(event)\"><i class=\"fas fa-plus\"></i></a>\r\n        </div>\r\n\r\n        <div class=\"card own-card\">\r\n            <div class=\"map\" ondrop=\"drop(event)\" ondragover=\"allowDrop(event)\" id=\"groundfloor-map\"");
                EndContext();
                BeginWriteAttribute("js-dimensions", " js-dimensions=\"", 2413, "\"", 2440, 1);
#line 44 "C:\Users\Indy\source\repos\IP-Project\IP-Project\Views\Area\Edit.cshtml"
WriteAttributeValue("", 2429, dimensions, 2429, 11, false);

#line default
#line hidden
                EndWriteAttribute();
                BeginContext(2441, 21, true);
                WriteLiteral(">\r\n\r\n                ");
                EndContext();
                BeginContext(2462, 65, false);
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("img", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "fcb8e1b140cb9cc47166a147757d5dd55e23c42812283", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_3);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_4);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_5);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                EndContext();
                BeginContext(2527, 1044, true);
                WriteLiteral(@"

            </div>
            <div class=""card-body content-card"">
                <h2 class=""card-title"" id=""floor-title"">Ground floor</h2>
            </div>
        </div>
        <div>
            <button class=""btn btn-primary"" onclick=""postAreas()"">Save cameras</button>
            <button class=""btn btn-secondary"" onclick=""clearAreas()"">Clear cameras</button>
        </div>
    </div>


    <!-- Modal -->
    <div class=""modal fade"" id=""details-modal"" tabindex=""-1"" role=""dialog""
         aria-hidden=""true"">
        <div class=""modal-dialog"" role=""document"">
            <div class=""modal-content"">
                <div class=""modal-header"">
                    <h5 class=""modal-title"" id=""exampleModalLabel"">Create camera</h5>
                    <button type=""button"" class=""close"" data-dismiss=""modal"" aria-label=""Close"">
                        <span aria-hidden=""true"">&times;</span>
                    </button>
                </div>
                <div class=""modal-body"">
");
                WriteLiteral("                    ");
                EndContext();
                BeginContext(3571, 160, false);
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("form", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "fcb8e1b140cb9cc47166a147757d5dd55e23c42814828", async() => {
                    BeginContext(3577, 147, true);
                    WriteLiteral("\r\n                        <label>Area number</label>\r\n                        <input class=\"form-control\" id=\"area-number\" />\r\n                    ");
                    EndContext();
                }
                );
                __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper);
                __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                EndContext();
                BeginContext(3731, 357, true);
                WriteLiteral(@"
                </div>
                <div class=""modal-footer"">
                    <button type=""button"" class=""btn btn-secondary"" data-dismiss=""modal"">Close</button>
                    <button type=""button"" class=""btn btn-primary"" onclick=""saveArea()"">Save changes</button>
                </div>
            </div>
        </div>
    </div>
");
                EndContext();
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.BodyTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            EndContext();
            BeginContext(4095, 4411, true);
            WriteLiteral(@"

<script>
    let x = 0;
    let y = 0;
    let areas = [];
    let floor = 0;
    $(document).ready(function() {
        setFloor(0);
    });
    function showAreas(floor) {
        $("".mark-delete"").remove();
        const serializedEvents = $(""#groundfloor-map"").attr('js-dimensions');
        let dimensions = [];
        if (serializedEvents !== null && typeof (serializedEvents) !== 'undefined' && serializedEvents.length > 0 && serializedEvents.match(/^ *$/) === null) {
            dimensions = JSON.parse($(""#groundfloor-map"").attr('js-dimensions'));
        }
        if (dimensions.length > 0) {
            dimensions.forEach(dim => {
                if (dim.Floor == floor) {
                    const left = dim.Width + ""%"";
                    const top = dim.Height + ""%"";
                    const error = ""rgba(135,205,213,1)"";
                     document.getElementById(""groundfloor-map"").insertAdjacentHTML('beforeend', 
                        `<a class=""mark-point mark-delet");
            WriteLiteral(@"e"" style=left:${left};top:${top};position:absolute;background-color:${error};> <i class=""fas fa-plus""></i></a >`
                    );
                }
            })
        }
    }

    function allowDrop(ev) {
        ev.preventDefault();
    }

    function drag(ev) {
        ev.dataTransfer.setData(""text"", ev.target.id);
    }

    function drop(ev) {
        ev.preventDefault();
        let groundfloorMap = document.getElementById(""groundfloor-map"");
        let scrollTop = document.all ? iebody.scrollTop : pageYOffset
        let x = ev.x;
        let y = ev.y;
        let ix = $(""#groundfloor"").offset().left
        let iy = $(""#groundfloor"").offset().top
        x = (x - 20 - ix) / 1000 * 100;
        y = (y - 20 - iy + scrollTop) / 650 * 100;
        drawDimension(x, y, groundfloorMap);
    }

    function drawDimension(x, y, floor) {
        const error = ""rgba(135,205,213,1)"";
        floor.insertAdjacentHTML('beforeend', `<a class=""mark-point mark-delete"" style=""le");
            WriteLiteral(@"ft:${x}%;top:${y}%;position:absolute;background: radial-gradient(circle, ${error} 0%, ${error}  37%, ${error} 100%);"" data-toggle=""modal"" data-target=""#details-modal"" onclick=""setDimensions(${x},${y})""><i class=""fas fa-plus""></i></a>`);
    }

    function setDimensions(width, height) {
        x = width;
        y = height;
    }

    function saveArea() {
        const areaNumber = $(""#area-number"").val();
        areas.push(new Dimension(areaNumber, x, y, floor));
        $(""#details-modal"").modal('hide');
    }

    function postAreas() {
        $.post({
            url: '/Area/AddDimensions/',
            dataType: 'json',
            contentType: ""application/json"",
            data: JSON.stringify(areas),
            success: function (result) {
                if (result) {
                    window.location.href = ""/Area/Index/0""
                }
            }
        });

    }

    function clearAreas() {
        $.post({
            url: ""/Area/DeleteAllDimensions");
            WriteLiteral(@"/"",
            dataType: 'json',
            data: `${floor}`,
            contentType: ""application/json"",
            success: function (result) {
                if (result) {
                    window.location.href = ""/Area/Index/0""
                }
            }
        });
    }

    function setFloor(x) {
        floor = x;
        let src = """";
        let innerHtml = """";
        switch (x) {
            case 0:
                src = ""/img/floor0.png"";
                innerHtml = ""Ground Floor"";
                break;
            case 1:
                src = ""/img/floor1.png"";
                innerHtml = ""First Floor"";
                break;
            case 2:
                src = ""/img/floor2.png"";
                innerHtml = ""Second Floor"";
                break;
            case 3:
                src = ""/img/floor3.png"";
                innerHtml = ""Third Floor"";
                break;
        }
        showAreas(floor)
        $(""#groundfloor"").attr(""src"",");
            WriteLiteral(@" src)
        $(""#floor-title"").text(innerHtml);

    }

    class Dimension {
        constructor(areaNumber, width, height, floor) {
            this.AreaNumber = areaNumber;
            this.Width = width;
            this.Height = height;
            this.Floor = floor;
        }
    }
</script>
");
            EndContext();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<IP_Project.Models.FloorPlanViewModel> Html { get; private set; }
    }
}
#pragma warning restore 1591
